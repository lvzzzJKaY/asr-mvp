# 在线 ASR + 音色克隆复述（项目说明文档）

## 1. 项目一句话介绍
“在线 ASR + 音色克隆复述”是一个面向语音辅助沟通场景的 Web 应用：用户可通过语音输入，将语音识别为文字，并在条件允许时克隆用户音色后完成语音复述，形成“输入语音 -> 识别文本 -> 复述语音”的闭环。

---

## 2. 项目背景与痛点
### 背景
在辅助沟通、语言康复、个性化语音交互等场景中，用户通常希望：
1. 说话内容能被快速、准确地识别；
2. 输出语音尽可能保留本人音色；
3. 交互过程简单，最好“一键完成”。

### 当前痛点
1. 传统语音转写只给文本，不给个性化语音输出；
2. 音色克隆与识别常常是两个分离流程，操作复杂；
3. 本地模型部署门槛高（依赖、算力、环境）；
4. API/模型错误对新手不友好（配额、权限、网络问题频发）。

---

## 3. 项目目标
1. 去本地重模型依赖，切到线上 API 架构；
2. 提供放大版识别页面，降低操作难度；
3. 支持“上传音频识别”“麦克风录音识别”；
4. 支持音色克隆与文本复述；
5. 提供“一键识别+克隆+复述”链路；
6. 具备后续移动端打包（Android）基础能力。

---

## 4. 目标用户
1. 需要语音辅助表达的人群（如发音不清、沟通障碍相关场景）；
2. 需要快速语音转写+播报的普通用户；
3. 做语音交互原型验证的产品/研究团队。

---

## 5. 核心功能（当前版本）
1. **在线语音识别（ASR）**
   - Provider: OpenAI
   - 支持上传音频和浏览器录音
2. **候选确认回写**
   - 用户可确认识别候选，形成后续建议依据
3. **音色克隆**
   - Provider: ElevenLabs（依赖套餐权限）
4. **语音复述（TTS）**
   - Provider: ElevenLabs / OpenAI / macOS（本地降级）
5. **一键流程**
   - 上传音频：识别 -> 克隆 -> 复述
   - 麦克风一键模式：开始录音，再点一次自动执行完整流程
6. **移动端准备**
   - 已提供 Capacitor Android 打包骨架

---

## 6. 技术方案与架构
### 技术栈
- 后端：FastAPI + Uvicorn
- 前端：原生 HTML/CSS/JavaScript
- 第三方能力：OpenAI（ASR/TTS）、ElevenLabs（Voice Clone/TTS）
- 打包：Capacitor（Android）

### 架构说明
1. 前端负责录音、上传、状态展示、音频播放；
2. 后端作为统一网关，管理 API 调用、错误处理、候选逻辑；
3. 配置通过 `.env` 注入，避免硬编码密钥；
4. 所有核心链路通过 HTTP API 暴露，便于后续云部署。

### 关键接口（示例）
- `GET /health`：服务健康检查
- `GET /config`：在线配置状态
- `POST /transcribe-upload`：上传音频识别
- `POST /transcribe-clone-speak`：一键识别+克隆+复述
- `POST /voice-clone`：独立克隆音色
- `POST /speak`：文本复述
- `POST /confirm`：候选确认回写

---

## 7. 典型用户流程
### 流程 A：上传音频一键复述
1. 用户上传语音文件；
2. 系统完成 ASR；
3. 系统基于该语音做音色克隆；
4. 系统以识别文本生成复述语音；
5. 页面自动播放复述结果。

### 流程 B：麦克风一键复述
1. 用户点击“麦克风一键复述（开始录音）”；
2. 用户说话后再次点击同一按钮结束录音；
3. 系统自动执行识别 -> 克隆 -> 复述；
4. 页面展示识别文本并自动播放复述音频。

---

## 8. 项目亮点
1. **闭环能力**：从语音输入到语音输出的一体化流程；
2. **低门槛**：浏览器可直接录音，适合非技术用户；
3. **可扩展**：统一 API 网关结构，方便替换模型和 provider；
4. **容错思路**：支持多 TTS provider，便于失败降级；
5. **工程可迁移**：已具备 Docker/云部署/Android 打包基础。

---

## 9. 当前已知限制
1. ElevenLabs 的即时克隆受套餐权限限制（非代码错误）；
2. OpenAI 受 API 配额/账单影响，可能触发 429；
3. 首次调用线上模型可能较慢；
4. 浏览器录音依赖麦克风权限与设备兼容性。

---

## 10. 解决策略（工程实践）
1. 使用 `.env` 管理配置，避免把密钥写入代码；
2. 提供 `/config` 接口给前端做配置可用性提示；
3. 将错误转化为可读信息（网络错误、权限错误、配额错误）；
4. 保留 mock 与多 provider 机制，便于联调与降级。

---

## 11. 应用场景
1. 辅助沟通与无障碍表达；
2. 语音交互产品原型；
3. 在线客服/自助服务语音前端；
4. 教学和科研中的语音链路实验平台。

---

## 12. 后续路线图（Roadmap）
### 短期（1~2 周）
1. UI 精简：保留“麦克风一键复述”主路径；
2. 失败自动降级：克隆失败自动走普通 TTS；
3. 增强日志面板与错误指引文案。

### 中期（1~2 个月）
1. 上云部署（Render/Railway/Fly.io）；
2. Android APK 产出与真机测试；
3. 账号系统与语音资产管理（voice_id 管理、历史记录）。

### 长期
1. 引入更强纠错与个性化语言模型；
2. 离线/边缘方案探索；
3. 医疗康复、教育等场景化产品化落地。

---

## 13. 演示讲解词（可用于答辩/路演）
“这个项目的核心价值是把语音辅助沟通做成一个闭环。用户不需要理解复杂模型，只需要说话或上传语音，系统就能完成识别，并尽量用用户自己的音色复述。我们把复杂的本地环境迁移到线上 API 网关，降低了部署门槛；同时保留了容错和降级策略，应对配额、权限、网络等真实工程问题。下一步我们会进一步收敛到一键主流程，并完成安卓端打包发布。”

---

## 14. 给 PPT 生成 AI 的指令模板（可直接复制）
请基于以下项目信息，生成一份 12 页中文路演 PPT，风格为“科技感 + 温暖无障碍”，内容包括：
1. 封面（项目名、Slogan）
2. 背景痛点
3. 用户需求
4. 解决方案总览
5. 系统架构图（前端/后端/API Provider）
6. 核心功能页（ASR、候选确认、克隆、复述、一键流程）
7. 典型用户流程（上传版 + 麦克风版）
8. 技术实现与接口
9. 当前结果与亮点
10. 风险与限制（套餐、配额、网络）
11. 路线图（短中长期）
12. 总结与展望

请每页给出：标题、3~5 条要点、建议配图说明，并在“系统架构图”和“流程图”页面输出可编辑的图示布局建议。

